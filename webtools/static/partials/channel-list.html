<div ng-controller="ChannelList" ng-init="init()">
  <input type="text" ng-model="filtertext" placeholder="Search">

  <table class="table table-striped table-hover table-condensed" id="videos">
    <colgroup>
      <col width="20px"></col>
      <col width="200px"></col>
      <col width="80px"></col>
      <col></col>
    </colgroup>
    <thead>
      <th></th>
      <th>Title</th>
      <th>Recent</th>
      <th>Total unviewed</th>
    </thead>
    <tr>
      <td></td>
      <td><a href="#/channels/all">All channels</a></td>
      <td>0</td>
      <td>0</td>
    </tr>


    <tr ng-show="loading">
      <td></td>
      <td>Loading...</td>
      <td></td>
      <td></td>
    </tr>

    <tr ng-repeat="chan in data.channels | filter: filtertext">
      <td><a href="aaaa url 'ytdl.views.refresh_channel' chan.id bbbbb" class="async"><i class="icon-refresh"></i></a></td>
      <td>
        <a href="#/channels/{! chan.id !}">
          <img width="12px" ng-src="{! chan.icon !} "> <span title="{! chan.chanid !}">{! chan.title !}</span>
        </a>
      </td>
      <td>{! chan.num_unviewed_recently !}</td>
      <td>{! chan.num_unviewed !}</td>
    </tr>

    <tr>
      <td></td>
      <td> <a ng-click="refresh_all()">Refresh all <i class="icon-refresh"></i></a> </td>
    </tr>
  </table>



  <table>
  </table>
</div>


<div ng-controller="DownloadList" ng-init="init()">

<h2>Downloads
  <small><a href="{% url 'ytdl.views.view_channel' '_all' %}?status=GE">View errors &rarr;</a></small>
</h2>
<table class="table table-striped table-hover table-condensed" id="videos">
<tr ng-repeat="v in downloads.downloads" class="{{ v.status_class }}">
  <td>
    <a href="{% url 'ytdl.views.view_channel' v.channel.id %}?status={{v.status}}">{! v.title !} ({! v.status | status_text !})</a>
    <a href="{% url 'ytdl.views.grab' v.id %}?force=true" class="async"><i class="icon-download-alt"></i></a>
  </td>
</tr>
</table>

</div>
